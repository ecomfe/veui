@import "../lib.less";

.veui-progress {
  display: inline-flex;
  align-items: center;
  position: relative;
  color: @dls-progress-font-color;
  .veui-transition(color);

  &-desc {
    display: flex;
    justify-content: center;
    align-items: center;
    white-space: nowrap;
  }

  &-bar {
    .veui-progress-desc {
      margin-left: @dls-progress-track-spacing-bar;
      padding-right: @dls-progress-icon-spacing-bar;

      .veui-progress-status-icon {
        .dls-icon-size(@dls-progress-icon-size-bar);
      }
    }

    .veui-progress-rail {
      overflow: hidden;
      order: 0;
      background-color: @dls-progress-track-color;
    }

    &[ui~="s"] {
      height: dls-line-height(@dls-line-height-m, @dls-progress-font-size-s);
      font-size: @dls-progress-font-size-s;

      .veui-progress-rail {
        .size(@dls-progress-width-bar-s, @dls-progress-track-width-s);
      }

      .veui-progress-rail,
      .veui-progress-meter {
        border-radius: @dls-progress-border-radius-s;
      }
    }

    &[ui~="m"] {
      height: dls-line-height(@dls-line-height-m, @dls-progress-font-size-m);
      font-size: @dls-progress-font-size-m;

      .veui-progress-rail {
        .size(@dls-progress-width-bar-m, @dls-progress-track-width-m);
      }

      .veui-progress-rail,
      .veui-progress-meter {
        border-radius: @dls-progress-border-radius-m;
      }
    }

    .veui-progress-meter {
      .size(100%);
      margin-left: -100%;
      background-color: @dls-progress-indicator-color;
      .veui-transition(transform, background-color);
    }
  }

  &-circular {
    .veui-progress-circle {
      display: block;
      transform: rotate(-90deg);
    }

    .veui-progress-rail {
      stroke: @dls-progress-track-color;
    }

    .veui-progress-meter {
      stroke: @dls-progress-indicator-color;
      .veui-transition(stroke, stroke-dashoffset);
    }
  }

  &-circular &-desc {
    .absolute(0);
    font-size: @dls-progress-font-size-circular;

    .veui-progress-status-icon {
      .dls-icon-size(@dls-progress-icon-size-circular);
    }
  }

  &-status {
    &-success {
      .veui-progress-meter {
        background-color: @dls-progress-indicator-color-success;
        stroke: @dls-progress-indicator-color-success;
      }

      .veui-progress-status-icon {
        color: @dls-progress-icon-color-success;
      }
    }

    &-error {
      .veui-progress-meter {
        background-color: @dls-progress-indicator-color-error;
        stroke: @dls-progress-indicator-color-error;
      }

      .veui-progress-status-icon {
        color: @dls-progress-icon-color-error;
      }
    }
  }
}
