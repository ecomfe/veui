@import "../lib.less";

.@{veui-prefix}-collapse {
  border: 1px solid @dls-collapse-border-color;
  border-radius: @dls-collapse-border-radius-m;
  line-height: @dls-line-height-1;

  &-header {
    position: relative;
    display: flex;
    align-items: center;
    margin: -1px;
    padding: @dls-collapse-header-padding-y @dls-collapse-header-padding-x;
    border: 1px solid @dls-collapse-border-color;
    background-color: @dls-collapse-header-background-color;
    font-size: @dls-collapse-header-font-size-m;
    color: @dls-collapse-header-font-color;
    .border-top-radius(inherit);
    line-height: @dls-collapse-header-line-height;
    .veui-transition(color, background-color, border-color, border-radius);
    outline: none;
    cursor: pointer;

    &:hover {
      background-color: @dls-collapse-header-background-color-hover;
    }

    &[data-focus-visible-added] {
      border-color: @dls-collapse-header-border-color-focus !important;
      box-shadow: @dls-collapse-header-shadow-focus;
      z-index: 1;
    }

    &:active {
      background-color: @dls-collapse-header-background-color-active;
    }
  }

  &-collapsed > &-header {
    .border-bottom-radius(inherit);
  }

  &-toggle {
    .dls-icon-size(@dls-collapse-icon-size-aux);
    color: @dls-collapse-icon-color-aux;
    margin-right: @dls-collapse-header-content-spacing;
    .veui-transition(transform);
  }

  &-toggle-end {
    margin-right: 0;
    margin-left: @dls-collapse-header-content-spacing;
    order: 3;
  }

  &-title-after {
    margin-left: auto;
  }

  &-expanded > &-header &-toggle {
    transform: rotateZ(90deg);
  }

  &.@{veui-prefix}-disabled {
    & > .@{veui-prefix}-collapse {
      &-header {
        background-color: @dls-collapse-header-background-color-disabled;
        color: @dls-collapse-header-font-color-disabled;
        cursor: not-allowed;
      }

      &-toggle {
        color: @dls-collapse-icon-color-aux-disabled;
      }
    }
  }

  &-body {
    background-color: @dls-collapse-body-background-color;
    overflow: hidden;
    will-change: height;
    .veui-transition(height);
    .border-bottom-radius(inherit);
    color: @dls-collapse-body-font-color;
    font-size: @dls-collapse-body-font-size-m;
    line-height: @dls-collapse-body-line-height;
    margin: -1px;
    border: inherit;
  }

  &-content {
    padding: @dls-collapse-body-padding-y @dls-collapse-body-padding-x;
  }

  &[ui~="s"] {
    border-radius: @dls-collapse-border-radius-s;

    & > .@{veui-prefix}-collapse {
      &-header {
        font-size: @dls-collapse-header-font-size-s;
      }

      &-body {
        font-size: @dls-collapse-body-font-size-s;
      }
    }
  }

  &[ui~="basic"] > &-header,
  &[ui~="strong"] > &-header,
  &[ui~="simple"] > &-header {
    border-color: inherit;

    .@{veui-prefix}-collapse-expanded& {
      border-bottom-color: transparent;
    }
  }

  // simple，透明，无分割线
  &[ui~="simple"] > &-header {
    background-color: @dls-collapse-header-background-color-simple;

    &:hover {
      background-color: @dls-collapse-header-background-color-simple-hover;
    }

    &:active {
      background-color: @dls-collapse-header-background-color-simple-active;
    }
  }

  &[ui~="simple"].@{veui-prefix}-disabled > &-header {
    background-color: @dls-collapse-header-background-color-simple-disabled;
  }

  &[ui~="simple"] > &-body {
    background-color: @dls-collapse-body-background-color-simple;
  }

  // basic 白底，无分割线
  &[ui~="basic"] > &-header {
    background-color: @dls-collapse-header-background-color-basic;
  }

  &[ui~="basic"] > &-body {
    background-color: @dls-collapse-body-background-color-basic;
  }

  &[ui~="basic"]:not([ui~="dull"]) > &-header {
    &:hover {
      background-color: @dls-collapse-header-background-color-basic-hover;
    }

    &:active {
      background-color: @dls-collapse-header-background-color-basic-active;
    }
  }

  &[ui~="basic"].@{veui-prefix}-disabled > &-header {
    background-color: @dls-collapse-header-background-color-basic-disabled;
  }

  // strong 浅灰，无分割线
  &[ui~="strong"] > &-header {
    background-color: @dls-collapse-header-background-color-strong;
  }

  &[ui~="strong"] > &-body {
    background-color: @dls-collapse-body-background-color-strong;
  }

  &[ui~="strong"]:not([ui~="dull"]) > &-header {
    &:hover {
      background-color: @dls-collapse-header-background-color-strong-hover;
    }

    &:active {
      background-color: @dls-collapse-header-background-color-strong-active;
    }
  }

  &[ui~="strong"].@{veui-prefix}-disabled > &-header {
    background-color: @dls-collapse-header-background-color-strong-disabled;
  }

  &[ui~="simple"][ui~="borderless"],
  &[ui~="basic"]:not([ui~="bordered"]),
  &[ui~="strong"]:not([ui~="bordered"]) {
    border-color: transparent;
  }
}
