@import "../lib.less";

// will be removed
@dls-form-field-spacing-after-horizontal: @dls-padding-unit * 2;

.@{veui-prefix}-field {
  @field-content-left-spacing: dls-sum(@dls-form-label-width + @dls-form-label-spacing-after-horizontal);

  position: relative;
  display: flex;
  font-size: @dls-font-size-1;
  min-height: @dls-height-m;

  .@{veui-prefix}-form-label {
    width: @dls-form-label-width;
    margin-right: @dls-form-label-spacing-after-horizontal;
    color: @dls-form-label-font-color;
    display: flex;
    justify-content: flex-end;
    line-height: @dls-height-m;
  }

  &-required > .@{veui-prefix}-form-label::before {
    .veui-field-require();
  }

  .@{veui-prefix}-form-tip {
    position: absolute;
    left: ~"calc(@{dls-form-label-width} + @{dls-form-label-content-spacing})";
    transform: translateY(-50%);
    color: @dls-form-label-icon-color;
    top: ~"calc(@{dls-height-m} / 2)";
  }

  &-no-label {
    margin-left: @field-content-left-spacing;
  }

  .@{veui-prefix}-form-content {
    flex: 1;
    display: flex;
    position: relative;
    > *:not(.@{veui-prefix}-field-error) {
      margin-left: @dls-form-field-spacing-after-horizontal;
      &:first-child {
        margin-left: 0;
      }
    }
    .@{veui-prefix}-span,
    .@{veui-prefix}-radio-group,
    .@{veui-prefix}-checkbox-group {
      line-height: @dls-height-m;
    }
  }

  &-error {
    position: absolute;
    left: 0;
    top: dls-sum(100% + @dls-form-field-error-spacing-before-vertical);
    color: @dls-form-field-error-font-color;
  }

  .make-ui(@font-size, @min-height) {
    font-size: @font-size;
    min-height: @min-height;

    .@{veui-prefix}-form-label {
      line-height: @min-height;
    }
    .@{veui-prefix}-form-tip {
      top: ~"calc(@{min-height} / 2)";
    }
    .@{veui-prefix}-form-content {
      .@{veui-prefix}-span,
      .@{veui-prefix}-radio-group,
      .@{veui-prefix}-checkbox-group {
        line-height: @min-height;
      }
    }
  }
  &[ui~="l"] {
    .make-ui(@dls-font-size-2, @dls-height-l);
  }

  &[ui~="m"] {
    .make-ui(@dls-font-size-1, @dls-height-m);
  }

  &[ui~="s"] {
    .make-ui(@dls-font-size-0, @dls-height-s);
  }

  &[ui~="xs"] {
    .make-ui(@dls-font-size-0, @dls-height-xs);
  }
}
