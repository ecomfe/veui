@import "../lib.less";

// will be removed
@dls-form-field-spacing-after-horizontal: @dls-padding-unit * 2;

.@{veui-prefix}-field {
  position: relative;
  display: flex;
  align-items: stretch;
  font-size: @dls-font-size-1;
  min-height: @dls-height-m;

  --dls-field-label-width: @dls-form-label-width;

  &-label {
    position: relative;
    flex: none;
    width: @dls-form-label-width;
    width: var(--dls-field-label-width, @dls-form-label-width);
    margin-right: @dls-form-label-spacing-after-horizontal;
    color: @dls-form-label-font-color;
    text-align: right;

    .@{veui-prefix}-label {
      line-height: @dls-height-m;
    }
  }

  &-required > &-label::before {
    content: "*";
    margin-right: @dls-form-label-content-spacing;
    color: @dls-form-label-required-color;
  }

  .@{veui-prefix}-field-tip {
    .absolute(
      @dls-height-m / 2,
      _,
      _,
      dls-sum(100%, @dls-form-label-content-spacing)
    );
    color: @dls-form-label-icon-color;
    transform: translateY(-50%);

    .@{veui-prefix}-icon {
      display: block;
    }
  }

  &-no-label {
    margin-left: dls-sum(
      @dls-form-label-width,
      @dls-form-label-spacing-after-horizontal
    );
  }

  &-main {
    display: flex;
    flex-direction: column;
  }

  &-content {
    display: flex;
    // flex-direction: column;
    align-items: center;
    flex: 1 0 auto;
    position: relative;
  }

  &-validity-wrapper {
    margin-bottom: -@dls-form-field-spacing-vertical;
    min-height: @dls-form-field-spacing-vertical;
    padding-top: @dls-form-field-error-spacing-before-vertical;
  }

  &-validity-display-icon &-main {
    flex-direction: row;
  }

  &-validity-display-icon &-validity-wrapper {
    margin-bottom: 0;
    padding-top: 0;
    margin-left: 8px;
    height: @dls-form-field-spacing-vertical;
    display: flex;
    align-items: center;
  }

  &-validity-success {
    color: @dls-dialog-icon-color-success;
  }

  &-validity-error {
    cursor: pointer;
    color: @dls-dialog-icon-color-error;
  }

  &-validity-warning {
    cursor: pointer;
    color: @dls-dialog-icon-color-warning;
  }

  // &-error {
  //   position: absolute;
  //   left: 0;
  //   top: dls-sum(100%, @dls-form-field-error-spacing-before-vertical);
  //   color: @dls-form-field-error-font-color;
  // }

  .make-ui(@font-size, @min-height) {
    font-size: @font-size;
    min-height: @min-height;

    .@{veui-prefix}-form-label {
      line-height: @min-height;
    }
    .@{veui-prefix}-form-tip {
      top: ~"calc(@{min-height} / 2)";
    }
  }

  &[ui~="l"] {
    .make-ui(@dls-font-size-2, @dls-height-l);
  }

  &[ui~="m"] {
    .make-ui(@dls-font-size-1, @dls-height-m);
  }

  &[ui~="s"] {
    .make-ui(@dls-font-size-0, @dls-height-s);
  }

  &[ui~="xs"] {
    .make-ui(@dls-font-size-0, @dls-height-xs);
  }
}
