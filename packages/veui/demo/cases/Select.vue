<template>
<article>
  <h1><code>&lt;veui-select&gt;</code></h1>
  <section>
    <h2>4 уДЇтцДт░Ј№╝џ</h2>
    <veui-form>
      <veui-field
        v-for="ui in sizes"
        :key="ui"
        :ui="ui"
        :label="ui"
      >
        <veui-select
          v-model="defaultValue1"
          :ui="ui"
          v-bind="attrs"
          placeholder="тЁежЃе"
          clearable
          :filter="filter"
        />
      </veui-field>
    </veui-form>
  </section>
  <section>
    <h2>ж╗ўУ«цТаит╝Ј№╝џ</h2>
    <veui-select
      v-model="defaultValue"
      v-bind="attrs"
      placeholder="тЁежЃе"
      clearable
    />
  </section>
  <section>
    <h2>тцџжђЅТаит╝Ј№╝џxs</h2>
    <veui-select
      v-model="defaultMultiValue"
      ui="xs"
      v-bind="attrs"
      placeholder="тЁежЃе"
      :max="3"
      clearable
      multiple
    />
  </section>
  <section>
    <h2>тцџжђЅТаит╝Ј№╝џs</h2>
    <veui-select
      v-model="defaultMultiValue"
      ui="s"
      v-bind="attrs"
      placeholder="тЁежЃе"
      :max="3"
      clearable
      multiple
    />
  </section>
  <section>
    <h2>тцџжђЅТаит╝Ј№╝џm (ж╗ўУ«ц)</h2>
    <veui-select
      v-model="defaultMultiValue"
      v-bind="attrs"
      placeholder="тЁежЃе"
      clearable
      multiple
    />
  </section>
  <section>
    <h2>тцџжђЅТаит╝Ј№╝џl</h2>
    <veui-select
      v-model="defaultMultiValue"
      ui="l"
      v-bind="attrs"
      placeholder="тЁежЃе"
      clearable
      multiple
    />
  </section>
  <section>
    <h2>тцџжђЅТаит╝Ј№╝џТюЅжЎљтѕХ</h2>
    <veui-select
      v-model="defaultMultiValue"
      placeholder="тЁежЃе"
      v-bind="attrs"
      :max="4"
      clearable
      multiple
    />
  </section>
  <section>
    <h2>тцџжђЅТаит╝Ј№╝џудЂуће</h2>
    <veui-select
      v-model="defaultMultiValue"
      v-bind="attrs"
      placeholder="тЁежЃе"
      clearable
      multiple
      disabled
    />
  </section>
  <section>
    <h2>тЈ»Тљюу┤бSelect№╝џ</h2>
    <veui-select
      v-model="defaultValue2"
      v-bind="attrs"
      ui="checkmark"
      searchable
    />
  </section>
  <section>
    <h2>тЈ»Тљюу┤бтцџжђЅSelect№╝џ</h2>
    <veui-select
      v-model="defaultSearchMultiValue"
      v-bind="attrs"
      searchable
      multiple
    />
  </section>
  <section>
    <h2>тЈ»Тљюу┤бтцџжђЅSelect№╝џТюЅжЎљтѕХ</h2>
    <veui-select
      v-model="defaultSearchMultiValue"
      v-bind="attrs"
      :max="4"
      searchable
      multiple
    />
  </section>
  <section>
    <h2>тЈфУ»╗Таит╝Ј№╝џ</h2>
    <veui-select
      v-model="defaultValue1"
      v-bind="attrs"
      readonly
    />
  </section>
  <section>
    <h2>удЂућеТаит╝Ј№╝џ</h2>
    <veui-select
      v-model="defaultValue1"
      v-bind="attrs"
      disabled
    />
  </section>
  <section>
    <h2>Slot[name=option-label] Таит╝Ј№╝џ</h2>
    <veui-select
      v-model="defaultValue3"
      v-bind="attrs"
      ui="alt"
    >
      <template
        slot="option-label"
        slot-scope="props"
      >
        <span class="veui-option-custom-label">
          {{ props.label }}
        </span>
      </template>
    </veui-select>
  </section>
  <section>
    <h2>Slot Таит╝Ј 2№╝џ</h2>
    <veui-select
      v-model="defaultValue4"
      v-bind="attrs"
    >
      <template
        slot="option"
        slot-scope="props"
      >
        <span class="veui-option-label-text">
          {{ props.label }}
        </span>
        <veui-icon name="eye"/>
      </template>
    </veui-select>
  </section>
  <section>
    <h2>Slot Таит╝Ј 3№╝џ</h2>
    <veui-select
      v-model="defaultValue1"
      v-bind="attrs"
    >
      <template
        slot="option"
        slot-scope="props"
      >
        <veui-radio :checked="props.selected">
          {{ props.label }}
        </veui-radio>
      </template>
    </veui-select>
  </section>
  <section>
    <h2>тєЁУЂћТаит╝Ј№╝џ</h2>
    <veui-select
      v-model="hero"
      multiple
    >
      <veui-option-group
        position="popup"
        trigger="hover"
      >
        <template
          slot="label"
        >СИГтЏй ­ЪЄе­ЪЄ│</template>
        <veui-option-group
          label="С║њУЂћуйЉ"
          position="popup"
        >
          <veui-option
            value="baidu"
            label="уЎЙт║д"
          />
          <veui-option
            value="alibaba"
            label="жў┐жЄїти┤ти┤"
          />
          <veui-option
            value="tencent"
            label="УЁЙУ«»"
          />
        </veui-option-group>
        <veui-option-group
          label="жђџС┐А"
          position="popup"
        >
          <veui-option
            value="telecom"
            label="СИГтЏйућхС┐А"
          />
          <veui-option
            value="mobile"
            label="СИГтЏйуД╗тіе"
          />
        </veui-option-group>
      </veui-option-group>
      <veui-option-group
        label="уЙјтЏй"
        position="popup"
      >
        <veui-option-group
          label="С║њУЂћуйЉ"
          position="popup"
        >
          <veui-option
            value="google"
            label="Google"
          />
          <veui-option
            value="facebook"
            label="Facebook"
          />
          <veui-option
            value="twitter"
            label="Twitter"
          />
        </veui-option-group>
        <veui-option-group
          label="жђџС┐А"
          position="popup"
        >
          <veui-option
            value="atnt"
            label="AT&T"
          />
          <veui-option
            value="verizon"
            label="Verizon"
          />
        </veui-option-group>
      </veui-option-group>
    </veui-select>
  </section>
  <section>
    <h2>тєЁУЂћТаит╝Ј 2№╝џ</h2>
    <veui-select v-model="phone">
      <veui-option-group label="тЏйС║Д">
        <veui-option
          value="xiaomi"
          label="т░Ју▒│"
        />
        <veui-option
          value="oppo"
          label="OPPO"
        />
        <veui-option
          value="vivo"
          label="vivo"
        />
        <veui-option
          value="smartisan"
          label="тЮџТъю"
        />
      </veui-option-group>
      <veui-option-group
        label="жЮътЏйС║Д"
        position="popup"
      >
        <veui-option-group
          label="уЙјтЏй"
          position="popup"
        >
          <veui-option
            value="apple"
            label="Apple"
          />
          <veui-option
            value="google"
            label="Google"
          />
        </veui-option-group>
        <veui-option-group
          label="ТЌЦТюг"
          position="popup"
        >
          <veui-option
            value="sharp"
            label="тцЈТЎ«"
          />
          <veui-option
            value="sony"
            label="у┤бт░╝"
          />
        </veui-option-group>
        <veui-option-group
          label="жЪЕтЏй"
          position="popup"
        >
          <veui-option
            value="samsung"
            label="СИЅТўЪ"
          />
          <veui-option
            value="lg"
            label="LG"
          />
        </veui-option-group>
      </veui-option-group>
    </veui-select>
  </section>
  <section style="margin-top:500px;">
    <h2>тЈ»Тљюу┤бтѕєу╗ёТаит╝Ј№╝џ</h2>
    <veui-select
      v-model="defaultValue5"
      v-bind="optGroupAttrs"
      searchable
    />
  </section>
  <section>
    <h2>ТўЙуц║ти▓жђЅтЏЙТаЄтѕєу╗ёТаит╝Ј№╝џ</h2>
    <veui-select
      v-model="defaultValue6"
      v-bind="optGroupAttrs"
      ui="checkmark"
    />
  </section>
  <section>
    <h2>Slot тѕєу╗ёТаит╝Ј 1№╝џ</h2>
    <veui-select
      v-model="defaultValue7"
      v-bind="optGroupAttrs"
    >
      <template
        slot="option"
        slot-scope="props"
      >
        <div class="veui-option-custom">
          {{ props.label }}
        </div>
      </template>
    </veui-select>
  </section>
  <section>
    <h2>Slot[name=option] тѕєу╗ёТаит╝Ј 2№╝џ</h2>
    <veui-select
      v-model="defaultValue8"
      v-bind="optGroupAttrs"
      :overlay-options="{
        position: 'top right'
      }"
    >
      <template
        slot="option"
        slot-scope="props"
      >
        <span class="veui-option-label-text veui-option-custom-label">
          {{ props.label }}
        </span>
        <veui-icon name="gift"/>
      </template>
    </veui-select>
  </section>
  <section>
    <h2>тѕєжџћу║┐Таит╝Ј№╝џ</h2>
    <veui-select
      v-model="defaultValue9"
      v-bind="optGroupAttrs"
      :options="groupedOpts"
    />
  </section>
  <section>
    <h2>тєЁУЂћТаит╝Ј 3№╝џ</h2>
    <veui-select
      v-model="defaultValue10"
      clearable
    >
      <template
        slot="group-label"
        slot-scope="{ label }"
      >
        <b>{{ label }}</b>
      </template>
      <veui-option-group label="тГЌТ»Ї">
        <veui-option
          value="A"
          label="жђЅжА╣ A"
        />
        <veui-option
          value="B"
          label="жђЅжА╣ B"
        />
        <veui-option
          value="C"
          label="жђЅжА╣ C"
        />
      </veui-option-group>
      <veui-option-group label="ТЋ░тГЌ">
        <veui-option
          value="1"
          label="жђЅжА╣ 1"
        />
        <veui-option
          value="2"
          label="жђЅжА╣ 2"
        />
        <veui-option
          value="3"
          label="жђЅжА╣ 3"
        />
      </veui-option-group>
    </veui-select>
  </section>
</article>
</template>

<script>
import bus from '../bus'
import { Icon, Select, Option, OptionGroup, Radio, Field, Form } from 'veui'
import type from 'veui/managers/type'
import 'vue-awesome/icons/eye'
import 'vue-awesome/icons/gift'

export default {
  name: 'select-demo',
  components: {
    'veui-select': Select,
    'veui-option': Option,
    'veui-option-group': OptionGroup,
    'veui-radio': Radio,
    'veui-icon': Icon,
    'veui-field': Field,
    'veui-form': Form
  },
  data () {
    return {
      filter: ({ label }) => {
        return label.indexOf(this.keyword) !== -1
      },
      keyword: '',
      phone: null,
      hero: ['baidu'],
      disabled: true,
      selected: true,
      icon: true,
      defaultValue: null,
      defaultMultiValue: null,
      defaultSearchMultiValue: [1],
      defaultValue1: null,
      defaultValue2: 2,
      defaultValue3: null,
      defaultValue4: null,
      defaultValue5: null,
      defaultValue6: null,
      defaultValue7: null,
      defaultValue8: '1-1',
      defaultValue9: null,
      defaultValue10: null,
      sizes: ['xs', 's', 'm', 'l'],
      attrs: {
        name: 'age',
        readonly: false,
        disabled: false,
        clearable: true,
        options: [
          {
            label: 'СИІТІЅжђЅжА╣111',
            value: 1
          },
          {
            label: 'СИІТІЅжђЅжА╣СИІТІЅжђЅжА╣СИІТІЅжђЅжА╣112',
            value: 2
          },
          {
            label: 'СИІТІЅжђЅжА╣122',
            value: 3
          },
          {
            label: 'СИІТІЅжђЅжА╣222',
            value: 4
          }
        ]
      },
      optGroupAttrs: {
        name: 'name',
        readonly: false,
        disabled: false,
        clearable: true,
        options: [
          {
            label: 'СИІТІЅжђЅжА╣1',
            position: 'popup',
            options: [
              {
                label: 'тГљжђЅжА╣1',
                value: '1-1'
              },
              {
                label: 'тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣2',
                value: '1-2'
              },
              {
                label: 'тГљжђЅжА╣3',
                value: '1-3'
              }
            ]
          },
          {
            label: 'СИІТІЅжђЅжА╣СИІТІЅжђЅжА╣СИІТІЅжђЅжА╣2',
            options: [
              {
                label: 'тГљжђЅжА╣1',
                value: '2-1'
              },
              {
                label: 'тГљжђЅжА╣2',
                value: '2-2'
              },
              {
                label: 'тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣3',
                value: '2-3'
              }
            ]
          },
          {
            label: 'СИІТІЅжђЅжА╣3',
            options: [
              {
                label: 'тГљжђЅжА╣1',
                value: '3-1'
              },
              {
                label: 'тГљжђЅжА╣2',
                value: '3-2'
              },
              {
                label: 'тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣3',
                value: '3-3'
              }
            ]
          },
          {
            label: 'СИІТІЅжђЅжА╣4',
            options: [
              {
                label: 'тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣тГљжђЅжА╣1',
                value: '4-1'
              },
              {
                label: 'тГљжђЅжА╣2',
                value: '4-2'
              },
              {
                label: 'тГљжђЅжА╣3',
                value: '4-3'
              }
            ]
          }
        ]
      }
    }
  },
  computed: {
    groupedOpts () {
      return type
        .clone(this.optGroupAttrs.options)
        .map(group => {
          delete group.label
          delete group.position
          return group
        })
        .reduce((acc, cur) => {
          acc.push(cur)
          return acc
        }, [])
    }
  },
  mounted () {
    this.$children.forEach(child => {
      child.$on('click', () => {
        bus.$emit('log', child.$el.getAttribute('ui'))
      })
    })
  },
  methods: {
    change (value) {
      // alert('ТѓежђЅСИГуџёСИІТІЅжђЅжА╣тђ╝Тў»' + value)
    }
  }
}
</script>

<style lang="less" scoped>
.veui-option-label {
  &-text,
  .veui-icon {
    vertical-align: middle;
  }

  .veui-icon {
    margin-left: 5px;
  }
}

.veui-option-custom {
  position: relative;
  padding-left: 24px;
  &::after {
    content: 'РЮц№ИЈ';
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
  }

  &-label {
    color: rgb(80, 170, 39);
  }
}

.filter {
  width: ~'calc(100% - 10px)';
  margin: 5px;
}
</style>
