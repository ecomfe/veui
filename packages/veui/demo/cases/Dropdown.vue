<template>
<article>
  <h1>
    <code>&lt;veui-dropdown&gt;</code>
  </h1>
  <section>
    <h3>åŸºç¡€ä¸‹æ‹‰èœå•</h3>
    <div>
      <h4>primary</h4>
      <veui-dropdown
        ui="primary xs"
        label="æ“ä½œ"
        :options="options"
      />
      <veui-dropdown
        ui="primary s"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="primary"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="primary l"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="primary"
        label="æ“ä½œ"
        split
        disabled
        :options="options"
      />
    </div>
    <div>
      <h4>default</h4>
      <veui-dropdown
        ui="xs"
        label="æ“ä½œ"
        :options="options"
      />
      <veui-dropdown
        ui="s"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="m"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="l"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        label="æ“ä½œ"
        split
        disabled
        :options="options"
      />
    </div>
    <div>
      <h4>normal</h4>
      <veui-dropdown
        ui="normal xs"
        label="æ“ä½œ"
        :options="options"
      />
      <veui-dropdown
        ui="normal s"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="normal m"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="normal l"
        label="æ“ä½œ"
        split
        :options="options"
      />
      <veui-dropdown
        ui="normal"
        label="æ“ä½œ"
        split
        disabled
        :options="options"
      />
    </div>
    <div>
      <h4>disabled</h4>
      <div>
        <veui-dropdown
          ui="s"
          label="æ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œ"
          trigger="hover"
          :options="options"
        />
        <veui-dropdown
          ui="s"
          label="æ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œ"
          disabled
          :options="options"
        />
        <veui-dropdown
          split
          ui="s"
          label="æ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œ"
          trigger="hover"
          :options="options"
        />
        <veui-dropdown
          split
          disabled
          ui="s"
          label="æ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œ"
          trigger="hover"
          :options="options"
        />
      </div>
    </div>
    <div>
      <h4>triggers</h4>
      <div>
        <veui-dropdown
          ui="xs"
          label="æ“ä½œ"
          split
          :options="options"
        />
        <veui-dropdown
          ui="xs"
          split
          label="æ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œæ“ä½œ"
          trigger="hover"
          :options="options"
        >
          <template
            slot="option-label"
            slot-scope="{ label }"
          >ğŸ‘‰ {{ label }}</template>
        </veui-dropdown>
      </div>
    </div>
  </section>
  <section>
    <h3>åˆ†ç»„ä¸‹æ‹‰æ¡†èœå•</h3>
    <div>
      <veui-dropdown
        ui="xs"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelOptions"
      />
      <veui-dropdown
        ui="s"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelOptions"
      />
      <veui-dropdown
        ui="m"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelOptions"
      />
      <veui-dropdown
        ui="l"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelOptions"
      />
    </div>
    <div>
      <h4>unlabeled group</h4>
      <veui-dropdown
        ui="xs"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelUnlabeledOptions"
      />
      <veui-dropdown
        ui="s"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelUnlabeledOptions"
      />
      <veui-dropdown
        ui="m"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelUnlabeledOptions"
      />
      <veui-dropdown
        ui="l"
        split
        label="æ±½è½¦ç±»å‹"
        :options="multiLevelUnlabeledOptions"
      />
    </div>
  </section>
  <section>
    <h3>å¤šå±‚çº§ä¸‹æ‹‰æ¡†èœå•</h3>
    <div>
      <veui-dropdown
        ui="s"
        split
        label="æ±½è½¦ç±»å‹"
        trigger="hover"
        :options="multiLevelUnlabeledOptions"
      />
      <veui-dropdown
        ui="s"
        split
        label="æ±½è½¦ç±»å‹"
        trigger="click"
        :options="multiLevelUnlabeledOptions"
      />
    </div>
  </section>
  <section>
    <h3>æ–‡å­—é“¾ä¸‹æ‹‰æ¡†èœå•</h3>
    <div>
      <veui-dropdown
        ui="text"
        label="æ“ä½œ"
        disabled
        :options="options"
      />
      <veui-dropdown
        ui="text xs"
        label="æ“ä½œ"
      >
        <veui-option-group
          label="æäº¤"
          ui="xs"
        >
          <veui-option @click="log('save')">ğŸ’¾ä¿å­˜</veui-option>
          <veui-option value="publish">âœ…å‘å¸ƒ</veui-option>
        </veui-option-group>
        <veui-option-group
          label="æ“ä½œ"
          ui="xs"
        >
          <veui-option value="undo">â¬…ï¸æ’¤æ¶ˆ</veui-option>
          <veui-option value="redo">â¡ï¸é‡å¤</veui-option>
        </veui-option-group>
      </veui-dropdown>
    </div>
  </section>
  <section>
    <h3>å«æœç´¢çš„ä¸‹æ‹‰æ¡†èœå•</h3>
    <veui-dropdown
      ui="text"
      label="æ“ä½œ"
      placeholder="è¯·æœç´¢"
      searchable
      :options="options"
    />
  </section>
  <section>
    <h3>è‡ªå®šä¹‰æ’æ§½</h3>
    <div>
      <h4>è‡ªå®šä¹‰ #trigger</h4>
      <veui-dropdown trigger="hover">
        <veui-option value="undo">â¬…ï¸æ’¤æ¶ˆ</veui-option>
        <veui-option value="redo">â¡ï¸é‡å¤</veui-option>
        <template #trigger="{ handlers, props }">
          <veui-button
            ui="icon"
            v-bind="props"
            v-on="handlers"
          >
            <veui-icon name="ellipsis"/>
          </veui-button>
        </template>
      </veui-dropdown>
    </div>
    <div>
      <h4>å…¨éƒ¨è‡ªå®šä¹‰</h4>
      <veui-dropdown>
        <template #default="{ close }">
          <div class="filter">
            ç­›é€‰ï¼š
            <veui-input
              ui="xs"
              class="query"
            />
            <veui-button
              ui="xs primary"
              @click="close"
            >OK</veui-button>
          </div>
        </template>
        <template #trigger="{ handlers, props }">
          <veui-button
            ui="strong xs"
            v-bind="props"
            v-on="handlers"
          >ä¸‹æ‹‰</veui-button>
        </template>
      </veui-dropdown>
    </div>
  </section>
</article>
</template>

<script>
import bus from '../bus'
import { Dropdown, Option, OptionGroup, Button, Icon, Input } from 'veui'
import 'veui-theme-dls-icons/ellipsis'

export default {
  name: 'dropdown-demo',
  components: {
    'veui-dropdown': Dropdown,
    'veui-option-group': OptionGroup,
    'veui-option': Option,
    'veui-button': Button,
    'veui-icon': Icon,
    'veui-input': Input
  },
  data () {
    return {
      options: [
        {
          label: 'æ–°å»ºæ–°å»ºæ–°å»ºæ–°å»ºæ–°å»ºæ–°å»ºæ–°å»º',
          value: 'create'
        },
        {
          label: 'ç¼–è¾‘',
          value: 'edit',
          disabled: true
        },
        {
          label: 'åˆ é™¤',
          value: 'remove'
        },
        {
          label: 'ç¼–è¾‘',
          value: 'edit',
          disabled: true
        },
        {
          label: 'åˆ é™¤',
          value: 'remove'
        },
        {
          label: 'ç¼–è¾‘',
          value: 'edit',
          disabled: true
        },
        {
          label: 'åˆ é™¤',
          value: 'remove'
        },
        {
          label: 'ç¼–è¾‘',
          value: 'edit',
          disabled: true
        },
        {
          label: 'åˆ é™¤',
          value: 'remove'
        },
        {
          label: 'ç¼–è¾‘',
          value: 'edit',
          disabled: true
        },
        {
          label: 'åˆ é™¤',
          value: 'remove'
        }
      ],
      multiLevelOptions: [
        {
          label: 'ä¸°ç”°',
          options: [
            {
              label: 'å‡¯ç¾ç‘',
              value: 'camry'
            },
            {
              label: 'äºšæ´²é¾™',
              value: 'avalon'
            }
          ]
        },
        {
          label: 'å¤§ä¼—',
          options: [
            {
              label: 'è¿ˆè…¾',
              value: 'magotan'
            },
            {
              label: 'é«˜å°”å¤«',
              value: 'golf'
            }
          ]
        }
      ],
      multiLevelUnlabeledOptions: [
        {
          label: 'ä¸°ç”°',
          position: 'popup',
          options: [
            {
              label: 'å‡¯ç¾ç‘',
              value: 'camry'
            },
            {
              label: 'äºšæ´²é¾™',
              value: 'avalon'
            }
          ]
        },
        {
          label: 'å¤§ä¼—',
          position: 'popup',
          options: [
            {
              label: 'è¿ˆè…¾',
              value: 'magotan'
            },
            {
              label: 'é«˜å°”å¤«',
              value: 'golf'
            }
          ]
        }
      ]
    }
  },
  mounted () {
    this.$children.forEach(child => {
      child.$on('click', val => {
        bus.$emit('log', val)
      })
    })
  },
  methods: {
    log (val) {
      bus.$emit('log', val)
    }
  }
}
</script>

<style lang="less" scoped>
article {
  padding-bottom: 120px;
}

section {
  margin-bottom: 30px;
}

p {
  margin: 10px 0;
}

.veui-dropdown {
  margin-right: 20px;
}

.filter {
  padding: 8px 12px;
  font-size: 12px;
}

.query {
  width: 120px;
  margin-right: 8px;
}
</style>
